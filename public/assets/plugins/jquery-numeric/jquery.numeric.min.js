/** @preserve jquery.numeric
 * git://github.com/danielgindi/jquery.numeric.git
 */
// prettier-ignore
!function(e,t){"function"==typeof define&&define.amd?define("jquery.numeric",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,(function(e){"use strict";var t=1.1.toLocaleString().match(/\d(.*?)\d/)[1],n=new RegExp("\\"+i(t),"g");function i(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}e.fn.numeric=function(n){return this.each((function(i,r){var u,a="INPUT"===r.tagName;"boolean"==typeof n&&(n={decimal:n}),void 0===(n=n||{}).negative&&(n.negative=!a||(!r.getAttribute("min")||parseFloat(r.getAttribute("min"))<0));var c=!1===n.decimal?"":"string"==typeof n.decimal&&n.decimal?n.decimal:t,m=!!n.negative;return c&&"INPUT"===this.tagName&&"number"===this.type&&"valueAsNumber"in this&&(c=t),void 0===n.decimal&&a&&(u=r.getAttribute("step"))&&"any"!==u&&-1===u.indexOf(".")&&(c=""),e(r).data("numeric.decimal",c).data("numeric.negative",m).on("keypress.numericValue",e.fn.numeric._event).on("keyup.numericValue",e.fn.numeric._event).on("blur.numericValue",e.fn.numeric._event).on("input.numericValue",e.fn.numeric._event)})),this},e.fn.valueAsNumber=function(){if(!this.length)return null;var r=arguments;if(r.length)return this.each((function(){"INPUT"===this.tagName&&"number"===this.type&&"valueAsNumber"in this?this.valueAsNumber=r[0]:this.value=r[0].toString().replace(/\./,e.data(this,"numeric.decimal")||t)}));if("INPUT"===this[0].tagName&&"number"===this[0].type&&"valueAsNumber"in this[0])return this[0].valueAsNumber;var u=this.data("numeric.decimal");return u=u?new RegExp(i(u),"g"):n,""===this[0].value?null:parseFloat(this[0].value.replace(u,"."))},e.fn.numeric._event=function(t){!function(e,t,n){var r=e.value,u="",a=!1;if("number"!==e.type)var c=e.selectionStart,m=e.selectionEnd;new RegExp((n?"[-+]?":"[+]?")+"(?:[0-9]+(?:"+(t?i(t):"")+"[0-9]*)?|"+(t?i(t):"")+"[0-9]*)","");for(var l,s=0;s<r.length;s++)(l=r.charAt(s))>="0"&&l<="9"||n&&"-"===l&&!u.length?u+=l:t&&r.substr(s,t.length)===t&&!a?(a=!0,u+=t,s+=t.length-1):(s<=c&&c--,s<=m&&m--);r!==u&&(e.value=u,"number"!==e.type&&(e.selectionStart=c,e.selectionEnd=m))}(this,e.data(this,"numeric.decimal"),e.data(this,"numeric.negative"))},e.fn.removeNumeric=function(){return this.removeData("numeric.decimal").removeData("numeric.negative").off(".numericValue")}}));
